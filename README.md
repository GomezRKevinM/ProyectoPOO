El grupo empresarial ABC Ltda. opera varias microempresas especializadas en ofrecer una amplia gama de productos y servicios a la comunidad. Uno de estos servicios es el lavado de automóviles. A continuación, se detallan las principales reglas de negocio de este proceso:


- Los clientes llevan sus vehículos al lavadero para recibir atención.
- Un empleado se acerca a los clientes y les informa sobre los productos y servicios disponibles, proporcionándoles un catálogo detallado que incluye información como código, nombre, precio, descripción, una imagen representativa y el estado de disponibilidad.
- Tanto los productos como los servicios se organizan en categorías, cada uno perteneciendo a una categoría única.
- Las categorías también tienen un código, un nombre y un icono asociados.
- Algunos productos tienen marca, precio de compra y stock, y son suministrados por uno o varios proveedores.
- Cuando los productos están por agotarse, un empleado busca entre los documentos archivados los datos de los proveedores para solicitar una cotización de compra.
- Al recibir las cotizaciones, otro empleado las organiza según los productos requeridos, asegurando que cada una contenga como mínimo el código, la fecha de emisión, la fecha de expiración, el tiempo máximo de entrega después del pago, la información del proveedor y el estado de la cotización.
- Cada cotización debe incluir detalles de los productos solicitados, presentados en líneas o ítems que incluyen un consecutivo, el código del producto, nombre, marca, descripción, tiempo de garantía, precio unitario, descuento, IVA, precio con IVA sin descuento y precio con IVA con descuento.
- Al final de cada cotización se muestra el total de líneas, precios unitarios, precio por IVA, precios con IVA, descuentos, y precios con IVA y descuento.
Cuando el pedido llega, se procede a cambiar el estado de la cotización a "recibido". Luego, se verifica minuciosamente que cada producto esté presente en el paquete de mercancía recibido. En caso de algún error, se genera un nuevo documento denominado "nota de corrección de pedido". Esta nota debe contener el código, la fecha de emisión, la fecha máxima de confirmación, la fecha máxima de entrega, el código del pedido, la información de la empresa, la información del proveedor, y un detalle de los productos que no coinciden con la información del pedido. Dicho detalle debe incluir una línea o ítem describiendo el código del producto incorrecto, la marca, el nombre, el precio unitario, el IVA, el precio unitario con IVA, las unidades, el precio total con IVA, el descuento, el precio total con IVA y descuento, el precio errado y la diferencia con respecto al precio correcto, las unidades erradas y la diferencia con respecto a las unidades correctas, el descuento errado y la diferencia con respecto al descuento correcto, así como el precio total de diferencia.


Al finalizar cada nota de corrección de pedido, se presenta el total de líneas, el total de precios unitarios correctos, el total de unidades correctas, el total de descuentos correctos, el total de precios unitarios incorrectos, el total de unidades incorrectas, el total de descuentos incorrectos, y el total de diferencia con respecto al total de precio unitario correcto, al total de unidades correctas, y al total de descuentos correctos.


Una vez completado el proceso de verificación del pedido, se almacenan en la bodega únicamente los productos aceptados correctamente en el pedido. Se actualiza el stock de acuerdo con las nuevas cantidades recibidas y se calcula el nuevo precio de venta del producto, aumentando un 35% al valor resultante de la diferencia entre el precio unitario de compra actual y el precio unitario de compra del pedido anterior.


Se calcula el valor a pagar al proveedor con base en su información de pago y se guarda una copia del comprobante de pago, que incluye un código único de transacción, la fecha del pago, los datos de la empresa, los datos del proveedor, la información de pago, el valor a pagar y el número de la cuenta bancaria de la empresa utilizada para realizar el pago del pedido.


En caso de que el proveedor responda con una nota de corrección del pedido, se lleva a cabo el mismo proceso de recepción y verificación de mercancía como si fuera un nuevo pedido. Si alguna información resulta incorrecta, se genera otra nota de corrección, que debe incluir el código de la nota de corrección de pedido correspondiente.


Se efectúa el pago únicamente por los productos que llegaron correctamente. Cuando un cliente solicita o elige al menos un producto o servicio, un funcionario de la empresa crea un documento llamado orden de venta. Este documento debe incluir la fecha de la solicitud, la información de la empresa, la información del cliente y el funcionario que lo atendió. Si la solicitud incluye solo productos, el documento debe detallar cada uno de ellos, con un ítem por producto que incluya el código, la marca, el precio de venta, el % de IVA, las unidades solicitadas, el valor unitario correspondiente al IVA, el precio unitario más el valor del IVA, y el precio total de cada artículo.
Por favor, revisa la redacción mejorada del texto:
- Si la solicitud de venta incluye solo productos, el documento debe incluir el detalle de cada artículo, indicando el número consecutivo de ítem, el código del producto, la marca, el precio de venta, el porcentaje de IVA, el valor correspondiente al IVA, el precio total con IVA, el descuento y el precio total a pagar por artículo.
- En caso de que la solicitud de venta abarque únicamente servicios, el documento debe contener la información mínima del automotor (planta, marca, tipo, color), junto con un desglose de los servicios solicitados. Cada servicio debe estar numerado consecutivamente, incluyendo el código del servicio, el nombre, el precio de venta, el porcentaje de IVA, el valor correspondiente al IVA, el precio total con IVA, el descuento, el precio total a pagar por el servicio, una descripción detallada del servicio aplicado al automotor, así como la fecha y hora de inicio y finalización del servicio, y el nombre del funcionario encargado de aplicarlo.


- En el caso de que la solicitud de venta contemple tanto productos como servicios, el documento debe presentar la información de cada uno por separado.
- Al finalizar el detalle de la lista de ítems (productos y/o servicios), se deben totalizar los valores, incluyendo precios, cantidades y tiempos (en el caso de los servicios).
- Después de atender al cliente, se le entrega una copia del documento de solicitud de venta, que puede utilizarse como factura, mientras que el funcionario archiva o guarda la copia original.
- Antes de comenzar con la aplicación de servicios en cualquier automotor, un funcionario organiza los vehículos según el orden de llegada.
- Los empleados responsables de aplicar los servicios (generalmente lavadores o técnicos mecánicos) revisan la cola de automóviles para determinar cuál es el siguiente en ser atendido.
- Al concluir un servicio, los empleados informan al supervisor, quien actualiza la cola y notifica al cliente.
- La empresa cuenta con un equipo de empleados para atender a los clientes, cada uno con un contrato que especifica la fecha de inicio, el sueldo base, el cargo, el horario de trabajo, entre otros detalles.
- Cada cargo tiene funciones específicas claramente definidas, y es posible que un empleado desempeñe más de una función al mismo tiempo.
- Los empleados deben proporcionar información personal a la empresa, incluyendo el número y tipo de documento de identidad, nombres, apellidos, fecha de nacimiento, género, correo electrónico, dirección y número de teléfono.
- Por último, la empresa dispone de cubículos (áreas de trabajo) utilizados para aplicar servicios a los automóviles. Es posible que en un mismo cubículo se presten varios servicios a un único automóvil simultáneamente. El supervisor debe verificar la disponibilidad de cada cubículo, por lo que debe estar al tanto de los detalles específicos de cada uno, como el código, el nombre, el área y el estado (disponible, ocupado, no disponible).




## Ten en cuenta que el análisis, modelo y el diseño que realices (Diagrama de Clases o Modelo Entidad Relación) debe satisfacer las siguientes consultas:


- Mostrar todos los clientes que han llevado sus vehículos al lavadero.
- Listar todos los empleados que han informado a los clientes sobre productos y servicios disponibles.
- Obtener un catálogo detallado de todos los productos y servicios disponibles en el lavadero.
- Consultar todas las categorías de productos y servicios disponibles.
- Listar todos los productos con su marca, precio de compra y stock.
- Mostrar los productos que están por agotarse.
- Consultar los proveedores de los productos que están por agotarse.
- Obtener las cotizaciones de compra generadas por los empleados.
- Listar los detalles de cada cotización de compra, incluyendo los productos solicitados.
- Mostrar el estado de cada cotización de compra.
- Consultar el estado de los pedidos recibidos.
- Listar los productos aceptados correctamente en un pedido.
- Obtener el detalle de una nota de corrección de pedido.
- Mostrar el total de líneas, precios unitarios, unidades y descuentos correctos e incorrectos en una nota de corrección de pedido.
- Consultar los productos almacenados en la bodega.
- Listar los productos con su nuevo precio de venta.
- Obtener el valor a pagar al proveedor por un pedido.
- Mostrar una copia del comprobante de pago realizado al proveedor.
- Consultar las notas de corrección del pedido recibidas de los proveedores.
- Listar los productos correctamente recibidos en una nota de corrección del pedido.
- Obtener el detalle de una orden de venta que incluye solo productos.
- Mostrar el detalle de una orden de venta que incluye solo servicios.
- Consultar el detalle de una orden de venta que incluye productos y servicios por separado.
- Listar los valores totales de una orden de venta, incluyendo precios, cantidades y tiempos de servicio.
- Obtener una copia del documento de solicitud de venta entregado al cliente.
- Mostrar el archivo de copias originales de documentos de solicitud de venta.
- Consultar el orden de llegada de vehículos antes de comenzar la aplicación de servicios.
- Listar los empleados responsables de aplicar servicios a los vehículos.
- Obtener el siguiente vehículo en la cola para ser atendido.
- Mostrar la actualización de la cola de vehículos después de la aplicación de un servicio.
- Consultar el equipo de empleados disponibles para atender a los clientes.
- Listar los contratos de empleados, incluyendo detalles como fecha de inicio, sueldo base y cargo.
- Obtener las funciones específicas de cada cargo de empleado.
- Mostrar la información personal proporcionada por los empleados a la empresa.
- Consultar todos los cubículos disponibles para aplicar servicios a los vehículos.
- Listar los cubículos ocupados en un momento dado.
- Obtener el detalle específico de un cubículo, incluyendo su estado y área.
- Mostrar los productos y servicios disponibles en un cubículo específico.
- Consultar la disponibilidad de un cubículo para aplicar servicios.
- Listar los detalles específicos de cada área de trabajo.
- Obtener el estado de disponibilidad de cada área de trabajo.
- Mostrar todos los productos y servicios aplicados a un vehículo.
- Consultar los empleados encargados de aplicar servicios a un vehículo.
- Listar los servicios aplicados a un vehículo junto con su descripción.
- Obtener la fecha y hora de inicio y finalización de un servicio aplicado a un vehículo.
- Mostrar el nombre del funcionario encargado de aplicar un servicio a un vehículo.
- Consultar los detalles de contacto de un cliente.
- Listar todos los automóviles atendidos por la empresa.
- Obtener la marca y el tipo de automóvil atendido por la empresa.
- Mostrar los detalles de cada servicio aplicado a un automóvil, incluyendo su precio y descuento.


